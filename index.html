<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>üèì TOP TURNIER ANMELDUNG 2026</title>
<link rel="icon" href="logo.png">
<style>
:root{--accent:#d21d1d;--accent-dark:#b31515}
*{box-sizing:border-box;font-family:Inter, Arial, sans-serif}
body{margin:0;min-height:100vh;background:url('tt_modern_bg_2026_v2.jpg') center/cover no-repeat fixed;display:flex;align-items:flex-start;justify-content:center}
.card{width:100%;max-width:760px;background:rgba(255,255,255,0.94);margin:clamp(32px,6vh,64px) 16px 48px;padding:26px;border-radius:18px;box-shadow:0 12px 44px rgba(0,0,0,.35);border:4px solid rgba(255,255,255,.06)}
.header{display:flex;align-items:center;gap:16px}
.logo{width:96px;height:96px;border-radius:12px;overflow:hidden;flex:0 0 96px;transform:translateY(-40px);opacity:0;animation:logoIn 900ms cubic-bezier(.22,.9,.3,1) forwards}
@keyframes logoIn{to{transform:none;opacity:1}}
.title{font-size:clamp(22px,3.2vw,30px);font-weight:900;color:#111;margin:0}
.countdown{margin-top:14px;padding:12px;border-radius:12px;background:#fff6d8;border:2px solid var(--accent);color:var(--accent);font-weight:800;text-align:center}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
.input{width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;font-size:16px}
.input-full{grid-column:1/-1}
.btn{margin-top:16px;padding:14px;border-radius:12px;border:none;background:var(--accent);color:#fff;font-weight:800;font-size:16px;cursor:pointer}
.small{color:#666;margin-top:10px;text-align:center;font-size:14px}
.panel{margin-top:18px;display:flex;justify-content:space-between;align-items:center;gap:8px}
.cta-link{display:inline-block;padding:10px 14px;border-radius:10px;background:#f3f3f3;text-decoration:none;color:#111;border:1px solid #e7e7e7;font-weight:800}
@media (max-width:640px){.form-grid{grid-template-columns:1fr} .logo{width:72px;height:72px}}
</style>
</head>
<body>
<audio id="bgmusic" src="music.mp3" loop></audio>

<div class="card" role="main" aria-labelledby="main-title">
  <div class="header">
    <div class="logo"><img src="logo.png" alt="Logo" style="width:100%;height:100%;object-fit:cover"></div>
    <div><h1 id="main-title" class="title">üèì TOP TURNIER ANMELDUNG 2026</h1></div>
  </div>

  <div id="countdown" class="countdown">Lade Countdown‚Ä¶</div>

  <form id="signupForm" class="form" autocomplete="off" novalidate>
    <div class="form-grid">
      <input class="input" name="vorname" placeholder="Vorname" required>
      <input class="input" name="nachname" placeholder="Nachname" required>
      <input class="input" name="geburtsdatum" type="date" placeholder="Geburtsdatum" required>
      <input class="input" name="ttr" type="number" placeholder="TTR Punkte" required>
      <input class="input input-full" name="verein" placeholder="Verein">
    </div>
    <button class="btn" type="submit">‚úÖ Jetzt anmelden</button>
  </form>

  <div class="panel">
    <a class="cta-link" href="ranking.html" target="_blank" rel="noopener">üèÜ Live‚ÄëRanking √∂ffnen</a>
    <a class="cta-link" href="/admin" rel="noopener">üîí Admin</a>
  </div>

  <div class="small">Musik startet nach dem ersten Klick (leise, loop).</div>
</div>

<script>
const turnierDate = new Date("2026-01-03T10:00:00");
function pad(n){return String(n).padStart(2,'0')}
function updateCountdown(){
  const now=new Date(); const diff=turnierDate-now;
  if(diff<=0){document.getElementById('countdown').textContent='Das Turnier hat begonnen!';return;}
  const d=Math.floor(diff/86400000),h=Math.floor(diff/3600000%24),m=Math.floor(diff/60000%60),s=Math.floor(diff/1000%60);
  document.getElementById('countdown').textContent=`Turnier startet in: ${d} Tage ${pad(h)}:${pad(m)}:${pad(s)}`;
}
setInterval(updateCountdown,1000);updateCountdown();

const bgmusic=document.getElementById('bgmusic'); bgmusic.volume=0.15;
document.addEventListener('click',()=>{bgmusic.play().catch(()=>{});},{once:true});

document.getElementById('signupForm').addEventListener('submit',async e=>{
  e.preventDefault();
  const data=Object.fromEntries(new FormData(e.target));
  const res=await fetch('/anmelden',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)});
  const txt=await res.text(); alert(txt); e.target.reset();
});
</script>
</body>
</html>
